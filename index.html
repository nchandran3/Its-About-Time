<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/main.css" />
    <script src="js/jquery.js"></script>

    <title>It's About Time</title>
</head>
<body>
    <div id="wrap">
        <div id="map">
            <div id="title">It's About Time</div>
   
            <div class="marker marker-raval" id="raval">
                <div class="icon"></div>
                <div class="name"></div>

            </div>
            <div class="marker marker-placareial" id="placareial">
                <div class="icon"></div>
                <div class="name"></div>

            </div>
            <div class="marker marker-fortpienc" id="fortpienc">
                <div class="icon"></div>
                <div class="name"></div>
                
            </div>
            <div class="marker marker-arc" id="arc">
                <div class="icon"></div>
                <div class="name"></div>
                
            </div>
            <div class="marker marker-santandreu" id="santandreu">
                <div class="icon"></div>
                <div class="name"></div>
                
            </div>
            <div class="marker marker-macba" id="macba">
                <div class="icon"></div>
                <div class="name"></div>
                
            </div>
        </div>
        <div id="display">
            <div id="exitdisplay">X</div>
            <div id="galleries"></div>

            <div id="slide">
                <div id="slidetitle">This is a title</div>
            </div>
<!--             <div class="nav" id="goright"></div>
            <div class="nav" id="goleft"></div>
 -->
        </div>
    </div>
<script>
var imagesJSON = '{\
   "raval" :\
   {\
        "name": "Rambla de Raval",\
        "location": [528,183],\
        "images" : [\
            {\
                "url": "images/raval1.jpg",\
                "time": 14\
            }          \
        ]\
    },\
    "fortpienc" : \
    {\
        "name": "Fort Pienc",\
        "location": [446,496],\
        "images" : []\
    },\
    "placareial" :\
    {\
        "name": "Placa Reial",\
        "location": [566,253],\
        "images" : []\
    },\
    "arc" :\
    {\
        "name": "Arc de Triomf",\
        "location": [490,426],\
        "images" : []\
    },\
    "santandreu" :\
    {\
        "name": "Sant Andreu",\
        "location": [59,1015],\
        "images" : []\
    },\
    "macba" :\
    {\
        "name": "MACBA",\
        "location": [452,224],\
        "times" : {\
            "day" :\
            {\
                "name": "Day",\
                "images" : [\
                    {\
                        "url": "images/macba1.jpg",\
                        "caption": "This is a caption"\
                    }\
                ]\
            },\
            "evening" :\
            {\
                "name": "Evening",\
                "url": "images/macba2.jpg"\
            },\
            "night" :\
            {\
                "name": "Night",\
                "url": "images/macba3.jpg"\
            }\
        }\
    }\
}';
var images = $.parseJSON(imagesJSON);

$(document).ready(function() {
    $(".marker").click(function() {
        var id = this.id;
        $("#display").fadeIn(250);
        $("#slidetitle").html(images[id]["name"]);
        timesList = images[id]["times"];
        $("#galleries").html();
        $.each(timesList, function(key, value) {
            $("#galleries").append("<div class='gallery'><div class='galleryname'>" +
                value.name + "</div></div>", function() {
                    this.css("background","url(" + value.url + ")");
                });
        });
        // $("#slide").css("background", "url(" + imageList[0]["url"] + ")" );
    });
    $("#exitdisplay").click(function() {
        $("#display").fadeOut(250);
    });

    $.each(images, function(key, value) {
        $marker = $("#" + key);
        $marker.css({top: value.location[0], left: value.location[1]});
        $marker.children(".name").html(value.name)
    });
});
</script>
<script src="js/Animations.js"></script>

</body>
</html>